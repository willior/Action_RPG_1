[gd_scene load_steps=28 format=2]

[ext_resource path="res://assets/Will/LayerTest/Bottom.png" type="Texture" id=1]
[ext_resource path="res://assets/System/Camera2D.tscn" type="PackedScene" id=2]
[ext_resource path="res://assets/Will/LayerTest/Top.png" type="Texture" id=3]
[ext_resource path="res://assets/Enemies/Crow/Crow.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/Will/LayerTest/Bridge.png" type="Texture" id=5]
[ext_resource path="res://assets/UI/GUI2.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/Enemies/Wolf/Wolf.tscn" type="PackedScene" id=7]
[ext_resource path="res://assets/Player/Player.tscn" type="PackedScene" id=8]
[ext_resource path="res://assets/Enemies/Bat/Bat.tscn" type="PackedScene" id=9]
[ext_resource path="res://World.gd" type="Script" id=10]
[ext_resource path="res://assets/Audio/World/Bird_Ambience.ogg" type="AudioStream" id=11]
[ext_resource path="res://assets/Maps/Test/LayerTest.gd" type="Script" id=12]
[ext_resource path="res://assets/Shadows/PixelShadow.png" type="Texture" id=13]
[ext_resource path="res://assets/Misc/BluePixel.png" type="Texture" id=14]
[ext_resource path="res://assets/World/Flowers/Flowers_1.tscn" type="PackedScene" id=15]
[ext_resource path="res://assets/World/Grass/TallGrass_1.tscn" type="PackedScene" id=16]
[ext_resource path="res://assets/CollisionBoxes/Exit.tscn" type="PackedScene" id=17]
[ext_resource path="res://assets/Misc/FadeIn.tscn" type="PackedScene" id=18]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 8, 32 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 40, 8 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 8, 16 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 8, 32 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 24, 4 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 28, 31 )

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 30, 18 )

[sub_resource type="RectangleShape2D" id=8]
extents = Vector2( 34, 74 )

[sub_resource type="RectangleShape2D" id=9]

[node name="World" type="Node2D"]
pause_mode = 2
script = ExtResource( 10 )
__meta__ = {
"_edit_vertical_guides_": [ 128.0 ]
}

[node name="Camera2D" parent="." instance=ExtResource( 2 )]
position = Vector2( 224, 216 )

[node name="Map" type="Node2D" parent="."]
pause_mode = 1
script = ExtResource( 12 )

[node name="BelowFloor" type="Sprite" parent="Map"]
position = Vector2( 40, 16 )
z_index = -3
texture = ExtResource( 1 )
centered = false

[node name="LowerRidgeL" type="StaticBody2D" parent="Map/BelowFloor"]
position = Vector2( 152, 136 )
collision_layer = 133120
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/BelowFloor/LowerRidgeL"]
shape = SubResource( 1 )

[node name="LowerRidgeR" type="StaticBody2D" parent="Map/BelowFloor"]
position = Vector2( 216, 136 )
collision_layer = 133120
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/BelowFloor/LowerRidgeR"]
shape = SubResource( 1 )

[node name="MiddleFloor" type="Sprite" parent="Map"]
position = Vector2( 40, 16 )
z_index = -3
texture = ExtResource( 3 )
centered = false

[node name="Bridge" type="Sprite" parent="Map/MiddleFloor"]
show_behind_parent = true
z_index = 2
texture = ExtResource( 5 )
centered = false

[node name="Shadow" type="Sprite" parent="Map/MiddleFloor/Bridge"]
position = Vector2( 184, 166 )
texture = ExtResource( 13 )
region_enabled = true
region_rect = Rect2( 0, 0, 64, 16 )

[node name="BridgeTop" type="StaticBody2D" parent="Map/MiddleFloor/Bridge"]
position = Vector2( 184, 104 )
z_index = 1
collision_layer = 4096
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MiddleFloor/Bridge/BridgeTop"]
shape = SubResource( 2 )

[node name="BridgeBottom" type="StaticBody2D" parent="Map/MiddleFloor/Bridge"]
position = Vector2( 184, 152 )
z_index = 1
collision_layer = 4096
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MiddleFloor/Bridge/BridgeBottom"]
shape = SubResource( 2 )

[node name="RidgeL" type="StaticBody2D" parent="Map/MiddleFloor"]
position = Vector2( 152, 128 )
collision_layer = 6144
collision_mask = 0

[node name="CollisionShape2DTop" type="CollisionShape2D" parent="Map/MiddleFloor/RidgeL"]
position = Vector2( 0, -40 )
shape = SubResource( 3 )

[node name="CollisionShape2DBottom" type="CollisionShape2D" parent="Map/MiddleFloor/RidgeL"]
position = Vector2( 0, 56 )
shape = SubResource( 4 )

[node name="RidgeR" type="StaticBody2D" parent="Map/MiddleFloor"]
position = Vector2( 216, 128 )
collision_layer = 6144
collision_mask = 0

[node name="CollisionShape2DTop" type="CollisionShape2D" parent="Map/MiddleFloor/RidgeR"]
position = Vector2( 0, -40 )
shape = SubResource( 3 )

[node name="CollisionShape2DBottom" type="CollisionShape2D" parent="Map/MiddleFloor/RidgeR"]
position = Vector2( 0, 56 )
shape = SubResource( 4 )

[node name="Flowers_1" parent="Map/MiddleFloor" instance=ExtResource( 15 )]
position = Vector2( -40, -16 )
z_index = 1
tile_data = PoolIntArray( 327691, 0, 3, 327696, 0, 5, 393226, 0, 5, 393227, 0, 5, 393232, 0, 4, 393233, 0, 2, 458761, 0, 0, 458762, 0, 0, 458769, 0, 3, 458770, 0, 3, 655369, 0, 5, 655370, 0, 5, 655371, 0, 0, 655376, 0, 4, 655377, 0, 4, 655378, 0, 0, 720906, 0, 0, 720907, 0, 1, 720912, 0, 1, 720913, 0, 0, 786443, 0, 4, 786448, 0, 1, 851979, 0, 2, 851984, 0, 5, 983052, 0, 5, 983055, 0, 5 )

[node name="MiddleTransitionTop" type="Area2D" parent="Map"]
position = Vector2( 224, 84 )
collision_layer = 2048
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MiddleTransitionTop"]
shape = SubResource( 5 )

[node name="BelowTransitionTop" type="Area2D" parent="Map"]
position = Vector2( 224, 100 )
collision_layer = 4096
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/BelowTransitionTop"]
shape = SubResource( 5 )

[node name="BelowTransitionBottom" type="Area2D" parent="Map"]
position = Vector2( 224, 220 )
collision_layer = 4096
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/BelowTransitionBottom"]
shape = SubResource( 5 )

[node name="MiddleTransitionBottom" type="Area2D" parent="Map"]
position = Vector2( 224, 236 )
collision_layer = 2048
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MiddleTransitionBottom"]
shape = SubResource( 5 )

[node name="FlyZone" type="Area2D" parent="Map"]
position = Vector2( 224, 205 )
collision_layer = 131072
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/FlyZone"]
shape = SubResource( 6 )

[node name="FlyZone2" type="Area2D" parent="Map"]
position = Vector2( 224, 104 )
collision_layer = 131072
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/FlyZone2"]
shape = SubResource( 7 )

[node name="FlyerArea" type="Area2D" parent="Map"]
position = Vector2( 224, 162 )
collision_layer = 131072
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/FlyerArea"]
shape = SubResource( 8 )

[node name="Exit" parent="Map" instance=ExtResource( 17 )]
position = Vector2( 305, 244 )
map_file = "res://assets/Maps/Test/Test.tscn"
selected_location = Vector2( 48, 48 )

[node name="CollisionShape2D" parent="Map/Exit" index="0"]
shape = SubResource( 9 )

[node name="CollisionShape2D" parent="Map/Exit/StaticBody2D" index="0"]
shape = SubResource( 9 )

[node name="Sprite" type="Sprite" parent="Map/Exit"]
texture = ExtResource( 14 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="YSort" type="YSort" parent="."]
pause_mode = 1

[node name="Player" parent="YSort" instance=ExtResource( 8 )]
position = Vector2( 224, 216 )
z_index = -2

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="YSort/Player"]
remote_path = NodePath("../../../Camera2D")

[node name="Enemies" type="YSort" parent="YSort"]

[node name="Bat12" parent="YSort/Enemies" instance=ExtResource( 9 )]
position = Vector2( 216, 149 )

[node name="Bat11" parent="YSort/Enemies" instance=ExtResource( 9 )]
position = Vector2( 239, 145 )

[node name="Crow12" parent="YSort/Enemies" instance=ExtResource( 4 )]
position = Vector2( 287, 145 )

[node name="Crow11" parent="YSort/Enemies" instance=ExtResource( 4 )]
position = Vector2( 170, 146 )

[node name="Wolf12" parent="YSort/Enemies" instance=ExtResource( 7 )]
position = Vector2( 197, 151 )

[node name="Wolf11" parent="YSort/Enemies" instance=ExtResource( 7 )]
position = Vector2( 259, 149 )

[node name="Bat10" parent="YSort/Enemies" instance=ExtResource( 9 )]
position = Vector2( 216, 281 )

[node name="Bat9" parent="YSort/Enemies" instance=ExtResource( 9 )]
position = Vector2( 239, 277 )

[node name="Crow10" parent="YSort/Enemies" instance=ExtResource( 4 )]
position = Vector2( 287, 277 )

[node name="Crow9" parent="YSort/Enemies" instance=ExtResource( 4 )]
position = Vector2( 170, 278 )

[node name="Wolf10" parent="YSort/Enemies" instance=ExtResource( 7 )]
position = Vector2( 197, 283 )

[node name="Wolf9" parent="YSort/Enemies" instance=ExtResource( 7 )]
position = Vector2( 259, 281 )

[node name="Bat8" parent="YSort/Enemies" instance=ExtResource( 9 )]
position = Vector2( 127, 211 )

[node name="Bat7" parent="YSort/Enemies" instance=ExtResource( 9 )]
position = Vector2( 342, 209 )

[node name="Crow8" parent="YSort/Enemies" instance=ExtResource( 4 )]
position = Vector2( 146, 226 )

[node name="Crow7" parent="YSort/Enemies" instance=ExtResource( 4 )]
position = Vector2( 341, 243 )

[node name="Wolf8" parent="YSort/Enemies" instance=ExtResource( 7 )]
position = Vector2( 146, 178 )

[node name="Wolf7" parent="YSort/Enemies" instance=ExtResource( 7 )]
position = Vector2( 299, 210 )

[node name="Items" type="YSort" parent="YSort"]

[node name="Doodads" type="YSort" parent="YSort"]

[node name="Plants" type="YSort" parent="YSort"]

[node name="Trees" type="YSort" parent="YSort"]

[node name="Grass" type="YSort" parent="YSort"]

[node name="TallGrass" parent="YSort/Grass" instance=ExtResource( 16 )]
position = Vector2( 209, 176 )
z_index = -2

[node name="TallGrass2" parent="YSort/Grass" instance=ExtResource( 16 )]
position = Vector2( 224, 184 )
z_index = -2

[node name="TallGrass3" parent="YSort/Grass" instance=ExtResource( 16 )]
position = Vector2( 240, 178 )
z_index = -2

[node name="TallGrass6" parent="YSort/Grass" instance=ExtResource( 16 )]
position = Vector2( 207, 117 )
z_index = -2

[node name="TallGrass5" parent="YSort/Grass" instance=ExtResource( 16 )]
position = Vector2( 222, 125 )
z_index = -2

[node name="TallGrass4" parent="YSort/Grass" instance=ExtResource( 16 )]
position = Vector2( 238, 119 )
z_index = -2

[node name="Music" type="AudioStreamPlayer" parent="."]
pitch_scale = 0.8
bus = "Reverb"

[node name="SFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 11 )

[node name="SFX2" type="AudioStreamPlayer" parent="."]

[node name="FadeIn" parent="." instance=ExtResource( 18 )]

[node name="GUI" parent="." instance=ExtResource( 6 )]

[node name="Overlay" type="CanvasLayer" parent="."]
layer = 4
[connection signal="body_entered" from="Map/MiddleTransitionTop" to="Map" method="_on_MiddleTransition_body_entered"]
[connection signal="body_entered" from="Map/BelowTransitionTop" to="Map" method="_on_BelowTransition_body_entered"]
[connection signal="body_entered" from="Map/BelowTransitionBottom" to="Map" method="_on_BelowTransition_body_entered"]
[connection signal="body_entered" from="Map/MiddleTransitionBottom" to="Map" method="_on_MiddleTransition_body_entered"]
[connection signal="area_entered" from="Map/FlyZone" to="Map" method="_on_FlyZone_area_entered"]
[connection signal="body_entered" from="Map/FlyZone" to="Map" method="_on_FlyZone_body_entered"]
[connection signal="area_entered" from="Map/FlyZone2" to="Map" method="_on_FlyZone_area_entered"]
[connection signal="body_entered" from="Map/FlyZone2" to="Map" method="_on_FlyZone_body_entered"]
[connection signal="body_exited" from="Map/FlyerArea" to="Map" method="_on_FlyerArea_body_exited"]

[editable path="Map/Exit"]

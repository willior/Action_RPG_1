[gd_scene load_steps=3 format=2]

[ext_resource path="res://assets/Stats.tscn" type="PackedScene" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Node

export(int) var max_health = 4 setget set_max_health
var health = max_health setget set_health

var level = 1
var experience = 0
var experience_required = 200

signal no_health
signal health_changed(value)
signal max_health_changed(value)

func set_max_health(value):
	max_health = value
	self.health = min(health, max_health)
	emit_signal(\"max_health_changed\", max_health)

func set_health(value):
	health = value
	health = clamp(value, 0, max_health)
	emit_signal(\"health_changed\", health) # every time the health is set, emits a signal \"health_changed\" along with an argument, our new health value
	if health <= 0:
		emit_signal(\"no_health\")

func _ready():
	self.health = max_health
"

[node name="PlayerStats" instance=ExtResource( 1 )]
script = SubResource( 1 )
